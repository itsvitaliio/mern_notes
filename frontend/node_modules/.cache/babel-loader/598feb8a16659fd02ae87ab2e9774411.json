{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\mern_notes\\\\frontend\\\\src\\\\pages\\\\profile\\\\profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"../../components/authentication/input/field.css\";\nimport \"./profile.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProfilePage() {\n  _s();\n\n  const [section, setSection] = useState('');\n  const [username, setUsername] = useState('');\n  const [newUsername, setNewUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n\n  function changeUsername() {\n    axios.post('http://localhost:9000/changeUsername', {\n      username: username,\n      newUsername: newUsername,\n      password: password\n    }, {\n      withCredentials: true\n    }).then(res => {\n      if (res.status === 200) {\n        localStorage.setItem('username', newUsername);\n      } else {\n        console.log('Incorrect password');\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  function renderUsernameChange(section) {\n    let returnItem;\n\n    if (section === 'username') {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profileForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: username,\n          onChange: e => {\n            setUsername(e.target.value);\n          },\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: newUsername,\n          onChange: e => {\n            setNewUsername(e.target.value);\n          },\n          placeholder: \"Enter new username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: password,\n          onChange: e => {\n            setPassword(e.target.value);\n          },\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actionDiv doDiv\",\n          onClick: () => changeUsername(),\n          children: \"Change your username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this);\n    } else {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actionDiv\",\n        onClick: () => setSection('username'),\n        children: \"Change username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this);\n    }\n\n    return returnItem;\n  }\n\n  function renderPasswordChange(section) {\n    let returnItem;\n\n    if (section === 'password') {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profileForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: username,\n          onChange: e => {\n            setUsername(e.target.value);\n          },\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: password,\n          onChange: e => {\n            setPassword(e.target.value);\n          },\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: newPassword,\n          onChange: e => {\n            setNewPassword(e.target.value);\n          },\n          placeholder: \"Enter new password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actionDiv doDiv\",\n          children: \"Change your password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this);\n    } else {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actionDiv\",\n        onClick: () => setSection('password'),\n        children: \"Change password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this);\n    }\n\n    return returnItem;\n  }\n\n  function renderDeleteAccount(section) {\n    let returnItem;\n\n    if (section === 'delete') {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profileForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: this.state.username,\n          onChange: this.updateUsername,\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: this.state.username,\n          onChange: this.updateUsername,\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actionDiv warnDiv\",\n          children: \"Delete your account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this);\n    } else {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actionDiv\",\n        onClick: () => setSection('delete'),\n        children: \"Delete Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this);\n    }\n\n    return returnItem;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profilePage\",\n    children: [renderUsernameChange(section), renderPasswordChange(section), renderDeleteAccount(section)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProfilePage, \"BHlWoPdAcPDvELLvsg8HeLJsY4E=\");\n\n_c = ProfilePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfilePage\");","map":{"version":3,"sources":["C:/Projects/mern_notes/frontend/src/pages/profile/profile.js"],"names":["React","useState","axios","ProfilePage","section","setSection","username","setUsername","newUsername","setNewUsername","password","setPassword","newPassword","setNewPassword","changeUsername","post","withCredentials","then","res","status","localStorage","setItem","console","log","catch","err","renderUsernameChange","returnItem","e","target","value","renderPasswordChange","renderDeleteAccount","state","updateUsername"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport \"../../components/authentication/input/field.css\";\r\nimport \"./profile.css\";\r\nexport default function ProfilePage(){\r\n    const [section, setSection] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [newUsername, setNewUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [newPassword, setNewPassword] = useState('');\r\n\r\n    function changeUsername(){\r\n        axios.post('http://localhost:9000/changeUsername', {\r\n            username: username,\r\n            newUsername: newUsername,\r\n            password: password,\r\n        }, {withCredentials: true})\r\n        .then((res)=>{\r\n            if(res.status===200){\r\n                localStorage.setItem('username', newUsername);\r\n            }else{\r\n              console.log('Incorrect password');\r\n            }\r\n            \r\n        })\r\n        .catch((err)=>{\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    function renderUsernameChange(section){\r\n        let returnItem;\r\n        if(section === 'username'){\r\n            returnItem = \r\n            <div className=\"profileForm\">\r\n                <input value={username} onChange={(e)=>{setUsername(e.target.value)}} placeholder=\"Username\"/>\r\n                <input value={newUsername} onChange={(e)=>{setNewUsername(e.target.value)}} placeholder=\"Enter new username\"/>\r\n                <input value={password} onChange={(e)=>{setPassword(e.target.value)}} placeholder=\"Password\"/>\r\n                <div className=\"actionDiv doDiv\" onClick={()=>changeUsername()}>Change your username</div>\r\n            </div>\r\n        }else{\r\n            returnItem = \r\n                <div className=\"actionDiv\" onClick={()=>setSection('username')}>\r\n                    Change username\r\n                </div>\r\n        }\r\n        return returnItem;\r\n    }\r\n    function renderPasswordChange(section){\r\n        let returnItem;\r\n        if(section === 'password'){\r\n            returnItem =\r\n            <div className=\"profileForm\">\r\n                <input value={username} onChange={(e)=>{setUsername(e.target.value)}} placeholder=\"Username\"/>\r\n                <input value={password} onChange={(e)=>{setPassword(e.target.value)}} placeholder=\"Password\"/>\r\n                <input value={newPassword} onChange={(e)=>{setNewPassword(e.target.value)}} placeholder=\"Enter new password\"/>\r\n                <div className=\"actionDiv doDiv\">Change your password</div>\r\n            </div>\r\n        }else{\r\n            returnItem = \r\n                <div className=\"actionDiv\" onClick={()=>setSection('password')}>\r\n                    Change password\r\n                </div>\r\n        }\r\n        return returnItem;\r\n    }\r\n    function renderDeleteAccount(section){\r\n        let returnItem;\r\n        if(section === 'delete'){\r\n            returnItem =\r\n                <div className=\"profileForm\">\r\n                    <input value={this.state.username} onChange={this.updateUsername} placeholder=\"Username\"/>\r\n                    <input value={this.state.username} onChange={this.updateUsername} placeholder=\"Password\"/>\r\n                    <div className=\"actionDiv warnDiv\">Delete your account</div>\r\n                </div>\r\n        }else{\r\n            returnItem = \r\n                <div className=\"actionDiv\" onClick={()=>setSection('delete')}>\r\n                    Delete Account\r\n                </div>\r\n        }\r\n        return returnItem;\r\n    }\r\n\r\n    return(\r\n        <div className=\"profilePage\">\r\n            {renderUsernameChange(section)}   \r\n            {renderPasswordChange(section)}                \r\n            {renderDeleteAccount(section)}                             \r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}