{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\mern_notes\\\\frontend\\\\src\\\\pages\\\\profile\\\\profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"../../components/authentication/input/field.css\";\nimport \"./profile.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProfilePage() {\n  _s();\n\n  const [section, setSection] = useState('');\n  const [username, setUsername] = useState('');\n  const [newUsername, setNewUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n\n  function changeUsername() {\n    axios.post('http://localhost:9000/changeUsername', {\n      username: username,\n      newUsername: newUsername,\n      password: password\n    }, {\n      withCredentials: true\n    }).then(res => {\n      if (res.status === 200) {\n        localStorage.setItem('username', newUsername);\n      } else {\n        console.log('Incorrect password');\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  function changePassword() {\n    axios.post('http://localhost:9000/changePassword', {\n      username: username,\n      password: password,\n      newPassword: newPassword\n    }, {\n      withCredentials: true\n    }).then(res => {\n      if (res.status === 200) {\n        console.log('Successfully updated password');\n      } else {\n        console.log('Incorrect password');\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  function renderUsernameChange(section) {\n    let returnItem;\n\n    if (section === 'username') {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profileForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: newUsername,\n          onChange: e => setNewUsername(e.target.value),\n          placeholder: \"Enter new username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actionDiv doDiv\",\n          onClick: () => changeUsername(),\n          children: \"Change your username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this);\n    } else {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actionDiv\",\n        onClick: () => setSection('username'),\n        children: \"Change username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this);\n    }\n\n    return returnItem;\n  }\n\n  function renderPasswordChange(section) {\n    let returnItem;\n\n    if (section === 'password') {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profileForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: newPassword,\n          onChange: e => setNewPassword(e.target.value),\n          placeholder: \"Enter new password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actionDiv doDiv\",\n          onClick: () => changePassword(),\n          children: \"Change your password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this);\n    } else {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actionDiv\",\n        onClick: () => setSection('password'),\n        children: \"Change password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this);\n    }\n\n    return returnItem;\n  }\n\n  function renderDeleteAccount(section) {\n    let returnItem;\n\n    if (section === 'delete') {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profileForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actionDiv warnDiv\",\n          children: \"Delete your account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this);\n    } else {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actionDiv\",\n        onClick: () => setSection('delete'),\n        children: \"Delete Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this);\n    }\n\n    return returnItem;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profilePage\",\n    children: [renderUsernameChange(section), renderPasswordChange(section), renderDeleteAccount(section)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProfilePage, \"BHlWoPdAcPDvELLvsg8HeLJsY4E=\");\n\n_c = ProfilePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfilePage\");","map":{"version":3,"sources":["C:/Projects/mern_notes/frontend/src/pages/profile/profile.js"],"names":["React","useState","axios","ProfilePage","section","setSection","username","setUsername","newUsername","setNewUsername","password","setPassword","newPassword","setNewPassword","changeUsername","post","withCredentials","then","res","status","localStorage","setItem","console","log","catch","err","changePassword","renderUsernameChange","returnItem","e","target","value","renderPasswordChange","renderDeleteAccount"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport \"../../components/authentication/input/field.css\";\r\nimport \"./profile.css\";\r\nexport default function ProfilePage(){\r\n    const [section, setSection] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [newUsername, setNewUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [newPassword, setNewPassword] = useState('');\r\n\r\n    function changeUsername(){\r\n        axios.post('http://localhost:9000/changeUsername', {\r\n            username: username,\r\n            newUsername: newUsername,\r\n            password: password,\r\n        }, {withCredentials: true})\r\n        .then((res)=>{\r\n            if(res.status===200){\r\n                localStorage.setItem('username', newUsername);\r\n            }else{\r\n              console.log('Incorrect password');\r\n            }\r\n            \r\n        })\r\n        .catch((err)=>{\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    function changePassword(){\r\n        axios.post('http://localhost:9000/changePassword', {\r\n            username: username,\r\n            password: password,\r\n            newPassword: newPassword\r\n        }, {withCredentials: true})\r\n        .then((res)=>{\r\n            if(res.status===200){\r\n                console.log('Successfully updated password')\r\n            }else{\r\n              console.log('Incorrect password');\r\n            }\r\n            \r\n        })\r\n        .catch((err)=>{\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    function renderUsernameChange(section){\r\n        let returnItem;\r\n        if(section === 'username'){\r\n            returnItem = \r\n            <div className=\"profileForm\">\r\n                <input \r\n                    value={username}\r\n                    onChange={e => setUsername(e.target.value)}\r\n                    placeholder=\"Username\"/>\r\n                <input\r\n                    value={newUsername}\r\n                    onChange={e => setNewUsername(e.target.value)}\r\n                    placeholder=\"Enter new username\"/>\r\n                <input\r\n                    value={password}\r\n                    onChange={e=>setPassword(e.target.value)}\r\n                    placeholder=\"Password\"/>\r\n                <div\r\n                    className=\"actionDiv doDiv\"\r\n                    onClick={() => changeUsername()}>\r\n                        Change your username\r\n                </div>\r\n            </div>\r\n        }else{\r\n            returnItem = \r\n                <div \r\n                    className=\"actionDiv\"\r\n                    onClick={()=>setSection('username')}>\r\n                        Change username\r\n                </div>\r\n        }\r\n        return returnItem;\r\n    }\r\n    function renderPasswordChange(section){\r\n        let returnItem;\r\n        if(section === 'password'){\r\n            returnItem =\r\n            <div className=\"profileForm\">\r\n                <input\r\n                    value={username}\r\n                    onChange={e => setUsername(e.target.value)}\r\n                    placeholder=\"Username\"/>\r\n                <input\r\n                    value={password}\r\n                    onChange={e => setPassword(e.target.value)}\r\n                    placeholder=\"Password\"/>\r\n                <input\r\n                    value={newPassword}\r\n                    onChange={e => setNewPassword(e.target.value)} \r\n                    placeholder=\"Enter new password\"/>\r\n                <div\r\n                    className=\"actionDiv doDiv\"\r\n                    onClick={() => changePassword()}>\r\n                        Change your password\r\n                </div>\r\n            </div>\r\n        }else{\r\n            returnItem = \r\n                <div\r\n                    className=\"actionDiv\"\r\n                    onClick={() => setSection('password')}>\r\n                        Change password\r\n                </div>\r\n        }\r\n        return returnItem;\r\n    }\r\n    function renderDeleteAccount(section){\r\n        let returnItem;\r\n        if(section === 'delete'){\r\n            returnItem =\r\n                <div className=\"profileForm\">    \r\n                    <input\r\n                        value={username}\r\n                        onChange={e => setUsername(e.target.value)}\r\n                        placeholder=\"Username\"/>\r\n                    <input\r\n                        value={password}\r\n                        onChange={e => setPassword(e.target.value)}\r\n                        placeholder=\"Password\"/>\r\n                    <div\r\n                        className=\"actionDiv warnDiv\">\r\n                            Delete your account\r\n                    </div>\r\n                </div>\r\n        }else{\r\n            returnItem = \r\n                <div\r\n                    className=\"actionDiv\"\r\n                    onClick={() => setSection('delete')}>\r\n                        Delete Account\r\n                </div>\r\n        }\r\n        return returnItem;\r\n    }\r\n\r\n    return(\r\n        <div className=\"profilePage\">\r\n            {renderUsernameChange(section)}   \r\n            {renderPasswordChange(section)}                \r\n            {renderDeleteAccount(section)}                             \r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}