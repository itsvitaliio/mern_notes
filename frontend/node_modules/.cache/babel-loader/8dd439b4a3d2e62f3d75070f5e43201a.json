{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\mern_notes\\\\frontend\\\\src\\\\pages\\\\profile\\\\profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"../../components/authentication/input/field.css\";\nimport \"./profile.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProfilePage() {\n  _s();\n\n  const [section, setSection] = useState('');\n\n  function changeUsername(state) {\n    axios.post('http://localhost:9000/changeUsername', {\n      username: state.username,\n      newUsername: state.newUsername,\n      password: state.password\n    }, {\n      withCredentials: true\n    }).then(res => {\n      if (res.status === 200) {\n        localStorage.setItem('username', state.newUsername);\n      } else {\n        console.log('Incorrect password');\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  function renderUsernameChange(section) {\n    let returnItem;\n\n    if (section === 'username') {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profileForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: this.state.username,\n          onChange: this.updateUsername,\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: this.state.username,\n          onChange: this.updateUsername,\n          placeholder: \"Enter new username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: this.state.password,\n          onChange: this.updatePassword,\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actionDiv doDiv\",\n          children: \"Change your username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }, this);\n    } else {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actionDiv\",\n        onClick: () => this.setState({\n          section: 'username'\n        }),\n        children: \"Change username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this);\n    }\n\n    return returnItem;\n  }\n\n  function renderPasswordChange(section) {\n    let returnItem;\n\n    if (section === 'password') {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profileForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: this.state.username,\n          onChange: this.updateUsername,\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: this.state.username,\n          onChange: this.updateUsername,\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: this.state.password,\n          onChange: this.updatePassword,\n          placeholder: \"Enter new password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actionDiv doDiv\",\n          children: \"Change your password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this);\n    } else {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actionDiv\",\n        onClick: () => this.setState({\n          section: 'password'\n        }),\n        children: \"Change password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this);\n    }\n\n    return returnItem;\n  }\n\n  function renderDeleteAccount(section) {\n    let returnItem;\n\n    if (section === 'delete') {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profileForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: this.state.username,\n          onChange: this.updateUsername,\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: this.state.username,\n          onChange: this.updateUsername,\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actionDiv warnDiv\",\n          children: \"Delete your account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this);\n    } else {\n      returnItem = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actionDiv\",\n        onClick: () => this.setState({\n          section: 'delete'\n        }),\n        children: \"Delete Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this);\n    }\n\n    return returnItem;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profilePage\",\n    children: [this.renderUsernameChange(section), this.renderPasswordChange(section), this.renderDeleteAccount(section)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProfilePage, \"JTKlnKzI9bxmRtW6TOme8hUIRK4=\");\n\n_c = ProfilePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfilePage\");","map":{"version":3,"sources":["C:/Projects/mern_notes/frontend/src/pages/profile/profile.js"],"names":["React","useState","axios","ProfilePage","section","setSection","changeUsername","state","post","username","newUsername","password","withCredentials","then","res","status","localStorage","setItem","console","log","catch","err","renderUsernameChange","returnItem","updateUsername","updatePassword","setState","renderPasswordChange","renderDeleteAccount"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport \"../../components/authentication/input/field.css\";\r\nimport \"./profile.css\";\r\nexport default function ProfilePage(){\r\n    const [section, setSection] = useState('');\r\n\r\n    function changeUsername(state){\r\n        axios.post('http://localhost:9000/changeUsername', {\r\n            username: state.username,\r\n            newUsername: state.newUsername,\r\n            password: state.password,\r\n        }, {withCredentials: true})\r\n        .then((res)=>{\r\n            if(res.status===200){\r\n                localStorage.setItem('username', state.newUsername);\r\n            }else{\r\n              console.log('Incorrect password');\r\n            }\r\n            \r\n        })\r\n        .catch((err)=>{\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    function renderUsernameChange(section){\r\n        let returnItem;\r\n        if(section === 'username'){\r\n            returnItem = \r\n            <div className=\"profileForm\">\r\n                <input value={this.state.username} onChange={this.updateUsername} placeholder=\"Username\"/>\r\n                <input value={this.state.username} onChange={this.updateUsername} placeholder=\"Enter new username\"/>\r\n                <input value={this.state.password} onChange={this.updatePassword} placeholder=\"Password\"/>\r\n                <div className=\"actionDiv doDiv\">Change your username</div>\r\n            </div>\r\n        }else{\r\n            returnItem = \r\n                <div className=\"actionDiv\" onClick={()=>this.setState({section:'username'})}>\r\n                    Change username\r\n                </div>\r\n        }\r\n        return returnItem;\r\n    }\r\n    function renderPasswordChange(section){\r\n        let returnItem;\r\n        if(section === 'password'){\r\n            returnItem =\r\n            <div className=\"profileForm\">\r\n                <input value={this.state.username} onChange={this.updateUsername} placeholder=\"Username\"/>\r\n                <input value={this.state.username} onChange={this.updateUsername} placeholder=\"Password\"/>\r\n                <input value={this.state.password} onChange={this.updatePassword} placeholder=\"Enter new password\"/>\r\n                <div className=\"actionDiv doDiv\">Change your password</div>\r\n            </div>\r\n        }else{\r\n            returnItem = \r\n                <div className=\"actionDiv\" onClick={()=>this.setState({section:'password'})}>\r\n                    Change password\r\n                </div>\r\n        }\r\n        return returnItem;\r\n    }\r\n    function renderDeleteAccount(section){\r\n        let returnItem;\r\n        if(section === 'delete'){\r\n            returnItem =\r\n                <div className=\"profileForm\">\r\n                    <input value={this.state.username} onChange={this.updateUsername} placeholder=\"Username\"/>\r\n                    <input value={this.state.username} onChange={this.updateUsername} placeholder=\"Password\"/>\r\n                    <div className=\"actionDiv warnDiv\">Delete your account</div>\r\n                </div>\r\n        }else{\r\n            returnItem = \r\n                <div className=\"actionDiv\" onClick={()=>this.setState({section:'delete'})}>\r\n                    Delete Account\r\n                </div>\r\n        }\r\n        return returnItem;\r\n    }\r\n\r\n    return(\r\n        <div className=\"profilePage\">\r\n            {this.renderUsernameChange(section)}   \r\n            {this.renderPasswordChange(section)}                \r\n            {this.renderDeleteAccount(section)}                             \r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}